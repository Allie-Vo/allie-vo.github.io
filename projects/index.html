<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Projects | Allie Vo</title>
    <meta name="description" content="Projects by Allie Vo." />
    <link rel="stylesheet" href="/css/styles.css" />
  </head>

  <body>
    <header class="site-header">
      <nav class="nav">
        <a class="brand" href="/">Allie Vo</a>
        <div class="nav-links">
          <a href="/">Home</a>
          <a href="/contact/">Contact</a>
          <a class="btn btn-ghost" href="https://github.com/Allie-Vo" target="_blank" rel="noreferrer">GitHub</a>
        </div>
      </nav>
    </header>

    <main class="container">
      <section class="section">
        <h1 style="margin: 0 0 8px;">Projects</h1>
        <p class="lead">A few small, real builds. More coming as I learn</p>

        <div class="grid">
          <article class="project">
            <h3>Calculator</h3>
            <p>JavaScript calculator built as a fundamentals project.
            </p>
            <ul class="meta">
              <li>JavaScript</li>
              <li>DOM events</li>
              <li>CSS layout</li>
            </ul>
            <div class="project-links">
              <a class="btn" href="/projects/calculator/" data-app="/projects/calculator/" data-title="Calculator">
                Launch demo
              </a>

              <a class="btn btn-ghost"
                href="https://github.com/Allie-Vo/allie-vo.github.io/tree/main/projects/calculator" target="_blank"
                rel="noreferrer">
                Code
              </a>
            </div>
          </article>

          <article class="project">
            <h3>Rock, Paper, Scissors</h3>
            <p>Interactive game for practicing state, randomization, and UI updates.</p>
            <ul class="meta">
              <li>JavaScript</li>
              <li>State handling</li>
              <li>DOM updates</li>
            </ul>
            <div class="project-links">
              <a class="btn" href="/projects/rock-paper-scissors/" data-app="/projects/rock-paper-scissors/"
                data-title="Rock, Paper, Scissors">
                Launch demo
              </a>

              <a class="btn btn-ghost"
                href="https://github.com/Allie-Vo/allie-vo.github.io/tree/main/projects/rock-paper-scissors"
                target="_blank" rel="noreferrer">
                Code
              </a>
            </div>
          </article>
        </div>
      </section>
    </main>
    <div class="app-modal" hidden aria-hidden="true">
      <div class="app-modal__backdrop" data-close></div>

      <div class="app-modal__panel" role="dialog" aria-modal="true" aria-label="Project preview">
        <div class="app-modal__bar">
          <div class="app-modal__title" id="appModalTitle">App</div>
          <div class="app-modal__actions">
            <a class="btn btn-ghost" id="appModalOpenNew" target="_blank" rel="noreferrer">Open full page</a>
            <a class="btn btn-ghost" href="#" data-close>Close</a>
          </div>
        </div>

        <iframe class="app-modal__frame" id="appModalFrame" title="Project preview"></iframe>
      </div>
    </div>
    <script>
      const modal = document.querySelector(".app-modal");
      const frame = document.getElementById("appModalFrame");
      const titleEl = document.getElementById("appModalTitle");
      const openNew = document.getElementById("appModalOpenNew");

      function openModal(url, title) {
        titleEl.textContent = title || "App";
        openNew.href = url;

        // Show modal first (animated), then load iframe
        modal.hidden = false;
        modal.setAttribute("aria-hidden", "false");
        document.body.style.overflow = "hidden";

        modal.classList.add("is-open");
        modal.classList.add("is-loading");
        frame.src = url;
      }

      // When iframe finishes loading, fade it in
      frame.addEventListener("load", () => {
        modal.classList.remove("is-loading");
      });

      function closeModal() {
        // Animate out first, then actually hide
        modal.classList.remove("is-open");
        modal.classList.add("is-loading");
        document.body.style.overflow = "";

        setTimeout(() => {
          frame.src = "";
          modal.hidden = true;
          modal.setAttribute("aria-hidden", "true");
        }, 160);
      }

      document.addEventListener("click", (e) => {
        const linkOrBtn = e.target.closest("[data-app]");
        if (linkOrBtn) {
          e.preventDefault();
          openModal(linkOrBtn.dataset.app, linkOrBtn.dataset.title);
          return;
        }

        const closeEl = e.target.closest("[data-close]");
        if (closeEl) {
          e.preventDefault();
          closeModal();
        }
      });
    </script>
  </body>

</html>